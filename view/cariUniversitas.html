<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="../css/semantic.min.css">
		<link rel="stylesheet" type="text/css" href="../css/style.css">
		<title>Cari Universitas</title>
</head>
<body>
	<div class="container con">
		<div class="search-content">
			<div class="form-header col-md-12">Cari Universitas</div>
			<div class="search-form col-md-12">
				<div class="search-input">
		  			<input placeholder="Cari..." type="text" id="universitySearch" onkeyup="search();">
				</div>
				<div class="search-result">
					<div id="theResult"></div>
					<ul class="list-group" id="result">
					</ul>
				</div>
			</div>
		</div>
	</div>

	<script src="data.js"></script>
	<script>
	const theSearch = document.getElementById('universitySearch');
	let searchResult;
	function search() {
    	result = document.getElementById('result');
    	result.innerHTML = "";
			searchResult = [];
    	if (theSearch.value != "" && theSearch.value.length!=1){
				for (i = 0; i < allData.length; i++){
					if (allData[i].universitas.toLowerCase().indexOf(theSearch.value.toLowerCase()) != -1)
							searchResult.push(allData[i].universitas);
				}
			}
	    for(var i = 0; i < searchResult.length; i++) {
				  var attributeItem = document.createAttribute("onclick");
					attributeItem.value = "getTheUniversity(" + i.toString() + ");";
	        var item = document.createElement('li');
	        var link = document.createElement('a');
	        item.appendChild(document.createTextNode(searchResult[i]));
					item.setAttributeNode(attributeItem);
	        link.appendChild(item);
	        result.appendChild(link);
	    }
	}

	function getTheUniversity(param){
			result.innerHTML = "";
			theSearch.value = searchResult[param];
	}
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
